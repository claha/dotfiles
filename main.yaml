---
- hosts: localhost
  connection: local
  become: true
  vars_files: vars.yaml

  pre_tasks:
    - name: Sync and refresh
      community.general.pacman:
        update_cache: true

  roles:
    - role: bash
    - role: alacritty
    - role: starship
    - role: git
    - role: i3
    - role: lightdm
    - role: dunst
    - role: volumeicon
    - role: bluetooth
    - role: rofi
    - role: emacs
    - role: mpv
    - role: qutebrowser
    - role: mimeapps
    - role: gnupg
    - role: python
    - role: docker

  tasks:
    - name: Install package
      community.general.pacman:
        name: "{{ item }}"
        state: latest
      loop: "{{ packages }}"
